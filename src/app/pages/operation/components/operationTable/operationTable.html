<p-panel header="Operation List">
	<p-dataTable #dt [value]="rows" [rows]="20" [responsive]="true" [paginator]="true" [totalRecords]="totalRecords"
	 [lazy]="true" (onLazyLoad)="lazy($event,dt)" [pageLinks]="5" [rowsPerPageOptions]="[10,20,50,100]" selectionMode="single"
	 sortMode="multiple" resizableColumns="true" exportFilename="operations" >
		<p-header>
			<div class="row">
				<div class="ui-helper-clearfix col-sm-10 text-left">
					<label>Duration:</label>
					<div class="d-inline" style="padding-right: 35px; ">
					 <p-calendar id="startDatePicker" showIcon="true" [(ngModel)]="startDate" dateFormat="yy-mm-dd" appendTo="body"></p-calendar>
					</div>
					<div class="d-inline" style="padding-right: 35px; ">
						<p-calendar id="endDatePicker" showIcon="true" [(ngModel)]="endDate" dateFormat="yy-mm-dd" appendTo="body"></p-calendar>
					</div>
					           <label>Shift:</label>
					              <br/>
                          <p-autoComplete [(ngModel)] ="shift" field="name" [suggestions]="filteredShifts" (completeMethod)="filterShifts($event)"
                            [size]="30" [minLength]="1" placeholder="Search" (onDropdownClick)="handleShiftDropdownClick($event)"
                             (onSelect)="onShiftSelect($event)">
                               <ng-template let-option pTemplate="option">
                                 <div class="ui-helper-clearfix">
                                    <div>{{option.code}}</div>
                                       </div>
                                          </ng-template>
                                             </p-autoComplete>
					<!--<select id="shiftSelector" [(ngModel)]="shift" class="ui-inputtext ui-widget ui-state-default ui-corner-all">
					        <option *ngFor="let shift of shifts" [ngValue]="shift">{{shift.code}}</option>
				        </select>-->
					            <label>Section:</label>
					              <br/>
                          <p-autoComplete [(ngModel)]="section" field="name" [suggestions]="filteredSections" (completeMethod)="filterSections($event)"
                            [size]="30" [minLength]="1" placeholder="Search" (onDropdownClick)="handleShiftDropdownClick($event)"
                             (onSelect)="onSectionSelect($event)">
                               <ng-template let-option pTemplate="option">
                                 <div class="ui-helper-clearfix">
                                    <div>{{option.code}}</div>
                                       </div>
                                          </ng-template>
                                             </p-autoComplete>
					<!--<select id="sectionSelector" [(ngModel)]="section" class="ui-inputtext ui-widget ui-state-default ui-corner-all input-sm">
					        <option *ngFor="let section of sections" [ngValue]="section">{{section.code}}</option>
				        </select>-->
					<button type="button" class="btn btn-primary btn-xs" (click)="search()"><i ng-reflect-class-name="fa fa-search" class="fa fa-search"></i> Search</button>
					&nbsp;&nbsp;{{totalRecords}}
				</div>
				<div class="ui-helper-clearfix col-sm-1">
				</div>
				<div class="ui-helper-clearfix col-sm-1">
					<button type="button" class="btn btn-primary btn-xs" (click)="dt.exportCSV()"><i ng-reflect-class-name="fa fa-file-text-o" class="fa fa-file-text-o"></i> Export</button>
				</div>
			</div>
		</p-header>
		<p-column field="id" header="ID" [style]="{'width':'50px'}"></p-column>
		<p-column field="production.controlPoint.code" header="Control Point"></p-column>
		<p-column field="production.productionDate" header="Production Date"></p-column>
		<p-column field="job.jobNo" header="Job"></p-column>
		<p-column field="job.item.code" header="Item"></p-column>
		<p-column field="plannedQuantity" header="Planned Quantity" styleClass="text-right"></p-column>
		<p-column field="actualQuantity" header="Actual Quantity" styleClass="text-right"></p-column>
		<p-column field="productType.description" header="Product Type"></p-column>
		<p-column field="operationType.description" header="Operation Type"></p-column>
	</p-dataTable>
</p-panel>